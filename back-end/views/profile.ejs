<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Profile</title>

    <!-- external CSS link -->
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
        integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
        crossorigin="anonymous"
      />
    <link rel="stylesheet" type="text/css" href="css/profile.css" media="screen"/>
</head>
<header>
    <nav class="main-nav">
      <ul>
          <li><a href="/homepage">Team 3FT2 Social Network</a></li>
          <li><a href="/homepage">Home</a></li>
          <li><a href="/profile">Profile</a></li>
          <li><a href="/profile">New Post</a></li>
          <li><a href="../auth/logout">Logout</a></li>
      </ul>
    </nav>
</header>
<body>
  <h1><%= user.displayName %>'s Profile</h1>
  <!-- empty section where image will show up (js) -->
    <main>
      <section class="<%= imgs.length >= 1 ? "pass" : "hidden" %>" id="imagehere">
        <% if(imgs.length >= 1) { %>
          <% imgs.forEach( el => { %>
              <div class="data center column" data-id="<%= el._id %>" data-like="<%= el.like %>">
                <img class="img-size" src="<%= el.filename %>" alt="">
                <% if(el.caption) { %>
                  <pre class="caption"><%= el.caption %></pre>
                <% } %>
                <div class="post-controls">
                  <span>Likes: <%= el.like %></span>
                  <button class="like" type="button"><i class="fas fa-heart"></i></button>
                  <button class="del" type="button">Delete</button>
                </div>
              </div>
          <% }) %>
        <% } %>
      </section>
      <% if(imgs.length === 0) { %>
        <p class="black">It's a bit lonely here...let's upload something!</p>
      <% } %>
    </main>


  <section class="whole">
  <!-- will have the h1 post here -->
    <h2 class="text">Post Your Image Here</h2>

  <!-- will have the button and search bar that will show file name -->
      <!-- <input type="text" placeholder="Add Picture">
      <button type="button" name="button">Select File</button> -->
    <section class="addimage">
      <form class="uploadedImg column" action= "/profile/upload" method="POST" enctype="multipart/form-data">
        <input type="file" id="myFile" name="photo" accept="image/*">
        <textarea name="caption" rows="4" cols="50"></textarea>
        <input type="submit" value="upload">
      </form>
    </section>


    <!-- add comment and button -->
    <section class="addcomment">
      <input type="text" placeholder="Add Comment">
      <button type="button" name="button">Add Comment</button>
    </section>
  </section>

  <script src="js/main.js"></script>
</body>

</html>
